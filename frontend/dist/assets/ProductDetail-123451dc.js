import{p as v}from"./index-8cce7ed6.js";import{_ as p,o as l,c as n,b as s,t as a,n as u,e as r,d as m,v as _,h as f}from"./index-0403a620.js";const h={name:"ProductDetail",data(){return{loading:!1,product:null,investmentAmount:1e4,expectedIncome:0,totalAmount:0,isFavorite:!1}},computed:{riskLevelClass(){var t;switch(((t=this.product)==null?void 0:t.riskLevel)||""){case"ä½":return"low-risk";case"ä¸­":return"medium-risk";case"é«˜":return"high-risk";default:return""}},productStatusText(){var t;const i=((t=this.product)==null?void 0:t.status)||"";switch(i){case"ACTIVE":return"é”€å”®ä¸­";case"INACTIVE":return"å·²åœå”®";default:return i}},productStatusClass(){var t;return(((t=this.product)==null?void 0:t.status)||"")==="ACTIVE"?"status-active":"status-inactive"},isRecommended(){return this.product&&parseFloat(this.product.annualRate)>4&&this.product.inventory>100},daysUntilEnd(){if(!this.product||!this.product.endDate)return 0;const c=new Date(this.product.endDate)-new Date;return Math.ceil(c/(1e3*60*60*24))}},created(){this.loadProductDetail(),this.calculateIncome()},methods:{async loadProductDetail(){this.loading=!0;try{const i=this.$route.params.code,t=await v.getProductDetail(i);this.product=t.data&&t.data.data||null}catch(i){console.error("åŠ è½½äº§å“è¯¦æƒ…å¤±è´¥",i),this.$router.back()}finally{this.loading=!1}},calculateIncome(){if(!this.investmentAmount||!this.product){this.expectedIncome=0,this.totalAmount=0;return}const i=parseFloat(this.investmentAmount),t=parseFloat(this.product.annualRate)/100,c=this.product.duration;this.expectedIncome=i*t*c/365,this.totalAmount=i+this.expectedIncome},formatDate(i){return i?new Date(i).toLocaleDateString("zh-CN"):""},goToPurchase(){this.$router.push(`/purchase/${this.product.productCode}`)},toggleFavorite(){this.isFavorite=!this.isFavorite},shareProduct(){alert("åˆ†äº«åŠŸèƒ½å¾…å¼€å‘")}}},g={class:"product-detail-page"},b={class:"header"},y={key:0,class:"loading"},k={key:1,class:"content"},D={class:"product-card"},x={class:"product-name"},A={class:"rate-section"},C={class:"rate-value"},I={class:"product-tags"},F={class:"tag"},P={class:"tag"},w={key:0,class:"tag recommended-tag"},T={key:0,class:"countdown-section"},L={class:"countdown-value"},V={class:"calculator-card"},E={class:"calculator-content"},N={class:"input-group"},S={class:"result-section"},R={class:"result-item"},M={class:"result-value income"},B={class:"result-item"},U={class:"result-value total"},z={class:"detail-card"},j={class:"detail-item"},q={class:"value"},G={class:"detail-item"},H={class:"value"},J={class:"detail-item"},K={class:"value"},O={class:"detail-item"},Q={class:"value"},W={class:"detail-item"},X={class:"value"},Y={class:"detail-item"},Z={class:"value"},$={class:"detail-card"},tt={class:"detail-item"},st={class:"value"},et={class:"detail-item"},at={class:"value"},it={class:"detail-item"},ot={class:"value"},dt={class:"detail-item"},lt={class:"detail-card"},nt={class:"notice-content"},ct={key:0},rt={class:"bottom-bar"},ut={key:0},vt={key:1};function pt(i,t,c,mt,e,o){return l(),n("div",g,[s("div",b,[s("div",{class:"back-btn",onClick:t[0]||(t[0]=d=>i.$router.back())},[...t[6]||(t[6]=[s("span",null,"<",-1)])]),t[8]||(t[8]=s("h1",{class:"title"},"äº§å“è¯¦æƒ…",-1)),s("div",{class:"share-btn",onClick:t[1]||(t[1]=(...d)=>o.shareProduct&&o.shareProduct(...d))},[...t[7]||(t[7]=[s("span",null,"ğŸ“¤",-1)])])]),e.loading?(l(),n("div",y,"åŠ è½½ä¸­...")):e.product?(l(),n("div",k,[s("div",D,[s("div",x,a(e.product.productName),1),s("div",A,[s("div",C,a(e.product.annualRate)+"%",1),t[9]||(t[9]=s("div",{class:"rate-label"},"å¹´åŒ–åˆ©ç‡",-1))]),s("div",I,[s("span",F,a(e.product.durationDesc),1),s("span",{class:u(["tag",o.riskLevelClass])},a(e.product.riskLevel)+"é£é™©",3),s("span",P,a(e.product.interestMethod),1),o.isRecommended?(l(),n("span",w,"æ¨è")):r("",!0)]),e.product.endDate?(l(),n("div",T,[t[10]||(t[10]=s("div",{class:"countdown-label"},"è·ç¦»ç»“æŸ",-1)),s("div",L,a(o.daysUntilEnd)+"å¤©",1)])):r("",!0)]),s("div",V,[t[14]||(t[14]=s("div",{class:"card-title"},"æ”¶ç›Šè®¡ç®—å™¨",-1)),s("div",E,[s("div",N,[t[11]||(t[11]=s("label",null,"æŠ•èµ„é‡‘é¢ï¼ˆå…ƒï¼‰",-1)),m(s("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=d=>e.investmentAmount=d),placeholder:"è¯·è¾“å…¥æŠ•èµ„é‡‘é¢",class:"amount-input",onInput:t[3]||(t[3]=(...d)=>o.calculateIncome&&o.calculateIncome(...d))},null,544),[[_,e.investmentAmount]])]),s("div",S,[s("div",R,[t[12]||(t[12]=s("div",{class:"result-label"},"é¢„æœŸæ”¶ç›Š",-1)),s("div",M,"Â¥ "+a(e.expectedIncome.toFixed(2)),1)]),s("div",B,[t[13]||(t[13]=s("div",{class:"result-label"},"åˆ°æœŸæœ¬æ¯",-1)),s("div",U,"Â¥ "+a(e.totalAmount.toFixed(2)),1)])])])]),t[29]||(t[29]=f('<div class="advantages-card" data-v-f9efc945><div class="card-title" data-v-f9efc945>äº§å“ä¼˜åŠ¿</div><div class="advantages-list" data-v-f9efc945><div class="advantage-item" data-v-f9efc945><div class="advantage-icon" data-v-f9efc945>ğŸ”’</div><div class="advantage-text" data-v-f9efc945>èµ„é‡‘å®‰å…¨ä¿éšœ</div></div><div class="advantage-item" data-v-f9efc945><div class="advantage-icon" data-v-f9efc945>ğŸ“ˆ</div><div class="advantage-text" data-v-f9efc945>æ”¶ç›Šç¨³å®šå¢é•¿</div></div><div class="advantage-item" data-v-f9efc945><div class="advantage-icon" data-v-f9efc945>âš¡</div><div class="advantage-text" data-v-f9efc945>èµ·æ¯å¿«é€Ÿ</div></div><div class="advantage-item" data-v-f9efc945><div class="advantage-icon" data-v-f9efc945>ğŸ“±</div><div class="advantage-text" data-v-f9efc945>éšæ—¶æŸ¥çœ‹</div></div></div></div>',1)),s("div",z,[t[21]||(t[21]=s("div",{class:"detail-title"},"å­˜æ¬¾è¯¦æƒ…",-1)),s("div",j,[t[15]||(t[15]=s("span",{class:"label"},"å­˜æ¬¾æœŸé™",-1)),s("span",q,a(e.product.duration)+"å¤©",1)]),s("div",G,[t[16]||(t[16]=s("span",{class:"label"},"èµ·å­˜é‡‘é¢",-1)),s("span",H,a(e.product.minAmount)+"å…ƒ",1)]),s("div",J,[t[17]||(t[17]=s("span",{class:"label"},"é€’å¢é‡‘é¢",-1)),s("span",K,a(e.product.incrementAmount)+"å…ƒ",1)]),s("div",O,[t[18]||(t[18]=s("span",{class:"label"},"å•äººé™é¢",-1)),s("span",Q,a(e.product.personLimit)+"å…ƒ",1)]),s("div",W,[t[19]||(t[19]=s("span",{class:"label"},"å•æ—¥é™é¢",-1)),s("span",X,a(e.product.dailyLimit)+"å…ƒ",1)]),s("div",Y,[t[20]||(t[20]=s("span",{class:"label"},"å‰©ä½™é¢åº¦",-1)),s("span",Z,a(e.product.inventory)+"ä»½",1)])]),s("div",$,[t[26]||(t[26]=s("div",{class:"detail-title"},"äº¤æ˜“è§„åˆ™",-1)),s("div",tt,[t[22]||(t[22]=s("span",{class:"label"},"èµ·æ¯æ—¥æœŸ",-1)),s("span",st,a(o.formatDate(e.product.startDate)),1)]),s("div",et,[t[23]||(t[23]=s("span",{class:"label"},"åˆ°æœŸæ—¥æœŸ",-1)),s("span",at,a(o.formatDate(e.product.endDate)),1)]),s("div",it,[t[24]||(t[24]=s("span",{class:"label"},"ç»“æ¯æ–¹å¼",-1)),s("span",ot,a(e.product.interestMethod),1)]),s("div",dt,[t[25]||(t[25]=s("span",{class:"label"},"äº§å“çŠ¶æ€",-1)),s("span",{class:u(["value",o.productStatusClass])},a(o.productStatusText),3)])]),s("div",lt,[t[28]||(t[28]=s("div",{class:"detail-title"},"è´­ä¹°é¡»çŸ¥",-1)),s("div",nt,[s("p",null,"Â· å­˜æ¬¾èµ·å­˜é‡‘é¢ï¼š"+a(e.product.minAmount)+"å…ƒï¼Œæ”¯æŒ"+a(e.product.incrementAmount)+"å…ƒé€’å¢",1),t[27]||(t[27]=s("p",null,"Â· æ¯æ—¥22:00å‰å­˜å…¥ï¼Œå½“æ—¥èµ·æ¯ï¼ˆå«èŠ‚å‡æ—¥ï¼‰",-1)),s("p",null,"Â· å•äººè´­ä¹°é™é¢ï¼š"+a(e.product.personLimit)+"å…ƒ",1),s("p",null,"Â· å•æ—¥è´­ä¹°é™é¢ï¼š"+a(e.product.dailyLimit)+"å…ƒ",1),s("p",null,"Â· äº§å“å‰©ä½™é¢åº¦ï¼š"+a(e.product.inventory)+"ä»½ï¼Œå…ˆåˆ°å…ˆå¾—",1),e.product.description?(l(),n("p",ct,"Â· "+a(e.product.description),1)):r("",!0)])]),s("div",rt,[s("button",{class:"favorite-btn",onClick:t[4]||(t[4]=(...d)=>o.toggleFavorite&&o.toggleFavorite(...d))},[e.isFavorite?(l(),n("span",ut,"â¤ï¸")):(l(),n("span",vt,"ğŸ¤"))]),s("button",{class:"purchase-btn",onClick:t[5]||(t[5]=(...d)=>o.goToPurchase&&o.goToPurchase(...d))},"ç«‹å³å­˜å…¥")])])):r("",!0)])}const ht=p(h,[["render",pt],["__scopeId","data-v-f9efc945"]]);export{ht as default};
