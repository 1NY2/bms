import{_ as C,m as d,p as N,o as l,c as o,b as s,t as n,F as g,r as y,d as O,v as w,e as p,w as M}from"./index-0403a620.js";import{b as k}from"./index-8cce7ed6.js";const P={class:"service-manage"},D={class:"service-stats"},J={class:"stat-card"},T={class:"stat-value"},j={class:"service-list"},B={class:"service-header"},V={class:"service-code"},E={class:"service-desc"},F={class:"service-params"},A={class:"param-section"},I={class:"param-list"},L={class:"param-name"},R={class:"param-desc"},U={key:0,class:"no-params"},$={class:"param-section"},q={class:"param-list"},z={class:"param-name"},G={class:"param-desc"},H={key:0,class:"no-params"},K={class:"service-actions"},Q=["onClick"],W={class:"dialog-content"},X={class:"form-group"},Y={key:0,class:"test-result"},Z={__name:"ServiceManage",setup(ss){const m=d([]),h=d(!1),u=d(null),c=d(""),i=d(null),b=async()=>{try{const t=await k.listServices();t.data&&t.data.success&&(m.value=t.data.data)}catch(t){console.error("è·å–æœåŠ¡åˆ—è¡¨å¤±è´¥:",t),alert("è·å–æœåŠ¡åˆ—è¡¨å¤±è´¥")}},S=t=>{u.value=t,h.value=!0,i.value=null;const e={};t.inputParams&&Object.keys(t.inputParams).forEach(v=>{e[v]=""}),c.value=JSON.stringify(e,null,2)},x=async()=>{try{const t=JSON.parse(c.value),e=await k.testService(u.value.serviceCode,t);i.value=JSON.stringify(e.data,null,2)}catch(t){console.error("æ‰§è¡Œæµ‹è¯•å¤±è´¥:",t),i.value=JSON.stringify({error:t.message},null,2)}},f=()=>{h.value=!1,u.value=null,c.value="",i.value=null};return N(()=>{b()}),(t,e)=>{var v;return l(),o("div",P,[e[7]||(e[7]=s("div",{class:"page-header"},[s("h2",null,"åŸå­æœåŠ¡ç®¡ç†"),s("p",{class:"page-desc"},"æŸ¥çœ‹å’Œç®¡ç†ç³»ç»Ÿä¸­çš„æ‰€æœ‰åŸå­æœåŠ¡")],-1)),s("div",D,[s("div",J,[s("div",T,n(m.value.length),1),e[2]||(e[2]=s("div",{class:"stat-label"},"åŸå­æœåŠ¡æ€»æ•°",-1))])]),s("div",j,[(l(!0),o(g,null,y(m.value,a=>(l(),o("div",{key:a.serviceCode,class:"service-card"},[s("div",B,[s("h3",null,n(a.serviceName),1),s("span",V,n(a.serviceCode),1)]),s("p",E,n(a.serviceDescription),1),s("div",F,[s("div",A,[e[3]||(e[3]=s("h4",null,"ğŸ“¥ è¾“å…¥å‚æ•°",-1)),s("div",I,[(l(!0),o(g,null,y(a.inputParams,(_,r)=>(l(),o("div",{key:r,class:"param-item"},[s("span",L,n(r),1),s("span",R,n(_),1)]))),128)),Object.keys(a.inputParams).length===0?(l(),o("div",U,"æ— ")):p("",!0)])]),s("div",$,[e[4]||(e[4]=s("h4",null,"ğŸ“¤ è¾“å‡ºå‚æ•°",-1)),s("div",q,[(l(!0),o(g,null,y(a.outputParams,(_,r)=>(l(),o("div",{key:r,class:"param-item"},[s("span",z,n(r),1),s("span",G,n(_),1)]))),128)),Object.keys(a.outputParams).length===0?(l(),o("div",H,"æ— ")):p("",!0)])])]),s("div",K,[s("button",{onClick:_=>S(a),class:"btn-test"},"æµ‹è¯•æœåŠ¡",8,Q)])]))),128))]),h.value?(l(),o("div",{key:0,class:"dialog-overlay",onClick:f},[s("div",{class:"dialog",onClick:e[1]||(e[1]=M(()=>{},["stop"]))},[s("h3",null,"æµ‹è¯•æœåŠ¡: "+n((v=u.value)==null?void 0:v.serviceName),1),s("div",W,[s("div",X,[e[5]||(e[5]=s("label",null,"è¾“å…¥ä¸Šä¸‹æ–‡ï¼ˆJSONæ ¼å¼ï¼‰:",-1)),O(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a),rows:"10",class:"form-textarea"},null,512),[[w,c.value]])])]),i.value?(l(),o("div",Y,[e[6]||(e[6]=s("h4",null,"æ‰§è¡Œç»“æœ:",-1)),s("pre",null,n(i.value),1)])):p("",!0),s("div",{class:"dialog-actions"},[s("button",{onClick:x,class:"btn-primary"},"æ‰§è¡Œæµ‹è¯•"),s("button",{onClick:f,class:"btn-secondary"},"å–æ¶ˆ")])])])):p("",!0)])}}},as=C(Z,[["__scopeId","data-v-9d26048b"]]);export{as as default};
